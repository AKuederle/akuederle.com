---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
posts.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<Base>
  <div class="flex flex-col">
    {posts.map((post) => (
      <a href={`/posts/${post.id}/`} class="group flex flex-col gap-0.5 py-3 no-underline border-b border-(--color-border) last:border-b-0">
        <span class="font-(family-name:--font-mono) text-xs text-(--color-text-muted)">
          {post.data.date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}
        </span>
        <span class="font-(family-name:--font-mono) text-lg text-(--color-text) group-hover:text-(--color-accent) transition-colors duration-150">
          {post.data.title}
        </span>
      </a>
    ))}
  </div>
</Base>
